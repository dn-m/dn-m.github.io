<!DOCTYPE html>
<html lang="en">
  <head>
    <title>  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset="utf-8">
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>


    <a title="  Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="index.html">
           Docs
        </a>
         (93% documented)
      </p>
    
    
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="dash-feed://https%3A%2F%2Fdn%2Dm%2Egithub%2Eio%2Fdocsets%2F%2Exml">
            <img class="header-icon" src="img/dash.png"/>
            Install in Dash
          </a>
        </p>
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="index.html"> Reference</a>
      <img class="carat" src="img/carat.png" />
        Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Basic Types.html">Basic Types</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Basic Types.html#/s:8Duration5Beatsa">Beats</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Basic Types.html#/s:8Duration11Subdivisiona">Subdivision</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Duration.html">Duration</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Meter.html">Meter</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Meter/Context.html">– Context</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Meter/Fragment.html">– Fragment</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Tempo.html">Tempo</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Tempo/Context.html">– Context</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Tempo/Interpolation.html">– Interpolation</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Rhythm.html">Rhythm</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Rhythm.html">Rhythm</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Rhythm/Leaf.html">– Leaf</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Rhythm.html#/s:8Duration14ProportionTreea">ProportionTree</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Rhythm.html#/s:8Duration0A4Treea">DurationTree</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/AbsenceOrEvent.html">AbsenceOrEvent</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/ContinuationOrInstance.html">ContinuationOrInstance</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Rhythm.html#/s:8Duration5eventyAA22ContinuationOrInstanceOyAA07AbsenceD5EventOyxGGxlF">event(_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Rhythm.html#/s:8Duration4restAA22ContinuationOrInstanceOyAA07AbsenceD5EventOyxGGylF">rest()</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Rhythm.html#/s:8Duration3tieAA22ContinuationOrInstanceOyAA07AbsenceD5EventOyxGGylF">tie()</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Rhythm.html#/s:8Duration2dgoiyA2AVSi_SitF">/&gt;(_:_:)</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Other Classes.html">Other Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MeterCollectionBuilder.html">MeterCollectionBuilder</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/TempoInterpolationCollectionBuilder.html">TempoInterpolationCollectionBuilder</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Other Extensions.html">Other Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/ContiguousSegmentCollection.html">ContiguousSegmentCollection</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Tree.html">Tree</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Other Functions.html">Other Functions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other Functions.html#/s:8Duration1moiy14DataStructures4TreeOyA2AVAFGAF_SaySiGtF">*(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other Functions.html#/s:8Duration1moiy14DataStructures4TreeOyA2AVAFGSi_SaySiGtF">*(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other Functions.html#/s:8Duration1moiy14DataStructures4TreeOyS2iGSi_SaySiGtF">*(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other Functions.html#/s:8Duration1moiyAA6RhythmVyxG14DataStructures4TreeOyA2AVAIG_SayAA22ContinuationOrInstanceOyAA07AbsenceG5EventOyxGGGtlF">*(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other Functions.html#/s:8Duration7lengths2ofSayA2AVGx_tSTRzAA6RhythmVyq_G7ElementRtzr0_lF">lengths(of:)</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content">
            
            <h1 id='duration' class='heading'>Duration</h1>

<p>The <code><a href="Structs/Duration.html">Duration</a></code> module defines basic structures for describing a symbolic representation of time by hierarchical subdivision. The building blocks of the <code><a href="Structs/Duration.html">Duration</a></code> module are the <code><a href="Structs/Duration.html">Duration</a></code>, <code><a href="Structs/Rhythm.html">Rhythm</a></code>, <code><a href="Structs/Tempo.html">Tempo</a></code>, and <code><a href="Structs/Meter.html">Meter</a></code> structures.</p>
<h2 id='duration' class='heading'>Duration</h2>

<p>The <code><a href="Structs/Duration.html">Duration</a></code> structure is a <a href="https://github.com/dn-m/Math/blob/master/Sources/Math/Rational.swift"><code>Rational</code></a> type, defined by its numerator (<code><a href="Basic Types.html#/s:8Duration5Beatsa">Beats</a></code>) over its power-of-two denominator (<code><a href="Basic Types.html#/s:8Duration11Subdivisiona">Subdivision</a></code>). A <code><a href="Structs/Duration.html">Duration</a></code> can be instantiated with a <code><a href="Basic Types.html#/s:8Duration5Beatsa">Beats</a></code> and <code><a href="Basic Types.html#/s:8Duration11Subdivisiona">Subdivision</a></code>.</p>
<pre class="highlight plaintext"><code>let dur = Duration(5,32)
</code></pre>

<blockquote>
<p>Warning: The denominator <em>must</em> be a power-of-two, otherwise your program will crash.</p>
</blockquote>
<pre class="highlight plaintext"><code>let notDur = Duration(4,17) // boom
</code></pre>

<p>A <code><a href="Structs/Duration.html">Duration</a></code> can be created with a shorthand via the <code>/&gt;</code> operator.</p>
<pre class="highlight plaintext"><code>let dur = 17/&gt;64
</code></pre>
<h2 id='rhythm' class='heading'>Rhythm</h2>
<h3 id='proportiontree' class='heading'>ProportionTree</h3>

<p>A <code><a href="Rhythm.html#/s:8Duration14ProportionTreea">ProportionTree</a></code> is a <code>typealias</code> for <code>Tree&lt;Int,Int&gt;</code>, from the <a href="https://dn-m.github.io/Packages/Structure/Modules/DataStructures/index.html"><code>dn-m/Structure/DataStructures</code></a> module, which provides a hierarchical model of relative durational values without a specificed <code><a href="Structs/Duration.html">Duration</a></code> container size. A <code><a href="Rhythm.html#/s:8Duration14ProportionTreea">ProportionTree</a></code> can be as simple as a pair of eighth notes,</p>
<pre class="highlight plaintext"><code>let eighthPair: ProportionTree = .branch(1, [1,1])
</code></pre>

<p>or as complicated as a deeply nested tuplet.</p>
<pre class="highlight plaintext"><code>let nested: ProportionTree = .branch(1, [
    .branch(2, [
        .branch(2, [
            .leaf(1),
            .leaf(1)
        ]),
        .leaf(3)
    ]),
    .branch(4, [
        .leaf(3),
        .leaf(4),
        .branch(6, [
            .leaf(1),
            .leaf(1)
        ]),
        .leaf(2),
        .branch(2, [
            .leaf(3),
            .leaf(5)
        ])
    ]),
    .branch(3, [
        .leaf(2),
        .leaf(4),
        .branch(1, [
            .leaf(16),
            .leaf(17)
        ])
    ])
])
</code></pre>

<blockquote>
<p>Note: This type is useful for composing up arbitrarily simple or complex rhythms without having to commit to an overall <code><a href="Structs/Duration.html">Duration</a></code>, or having to normalize the subdivision relationships between all of the nodes.</p>
</blockquote>
<h3 id='durationtree' class='heading'>DurationTree</h3>

<p>A <code><a href="Rhythm.html#/s:8Duration0A4Treea">DurationTree</a></code> is a <code>typealias</code> for <code>Tree&lt;Duration,Duration&gt;</code>, from the <a href="https://dn-m.github.io/Packages/Structure/Modules/DataStructures/index.html"><code>dn-m/Structure/DataStructures</code></a> module.</p>

<p>A <code><a href="Rhythm.html#/s:8Duration0A4Treea">DurationTree</a></code> is often not needed to be created by user, but is often the composition of a <code><a href="Structs/Duration.html">Duration</a></code> container size and a <code><a href="Rhythm.html#/s:8Duration14ProportionTreea">ProportionTree</a></code>.</p>
<pre class="highlight plaintext"><code>let proportions: ProportionTree = .branch(1, [1,2,4])
let duration = 13/&gt;64
let durationTree = DurationTree(duration, proportions)
</code></pre>

<p>The beat and subdivision values of each node of the resulting <code><a href="Rhythm.html#/s:8Duration0A4Treea">DurationTree</a></code> will be normalized automatically</p>
<pre class="highlight plaintext"><code>durationTree // =&gt; .branch(13/&gt;64, [
    .leaf(2/&gt;64),
    .leaf(4/&gt;64),
    .leaf(8/&gt;64)
])
</code></pre>

<p>for a resulting tuplet ratio of <code>14:13</code>.</p>
<h3 id='rhythm-leaf' class='heading'>Rhythm.Leaf</h3>

<p>A <code><a href="Structs/Rhythm/Leaf.html">Rhythm.Leaf</a></code> models the metrical identity of a given rhythmic leaf item. It is a <code>typealias</code> for <code><a href="Enums/ContinuationOrInstance.html">ContinuationOrInstance&lt;AbsenceOrEvent&lt;Element&gt;&gt;</a></code>.</p>

<ul>
<li><code>.continuation</code> (i.e., a leaf is <q>tied</q> over from the previous event)</li>
<li><code>.instance(.rest)</code> (i.e., a leaf is a <q>rest</q>, a measured silence)</li>
<li><code>.instance(.event(Element))</code> (i.e., a leaf is a measured non-silence)</li>
</ul>
<h4 id='continuationorinstance-element' class='heading'>ContinuationOrInstance<Element></h4>

<p><code><a href="Enums/ContinuationOrInstance.html">ContinuationOrInstance</a></code> is a two-case generic enum similar to the <code>Optional</code> enum of the Standard Library, which describes whether a rhythmic item is:</p>

<ul>
<li>a <code>.continuation</code> (i.e., <q>tied-over</q> from its preceeding item), or</li>
<li>an <code>.instance(Element)</code> (i.e., an action occuring).</li>
</ul>
<h4 id='absenceorevent-element' class='heading'>AbsenceOrEvent<Element></h4>

<p><code><a href="Enums/AbsenceOrEvent.html">AbsenceOrEvent</a></code> is a two-case generic enum similar to the <code>Optional</code> enum of the Standard Library, which describes whether a rhythmic item is:</p>

<ul>
<li>an <code>.absence</code> (i.e., a <q>rest</q>), or</li>
<li>an <code>.event(Element)</code> (i.e., a <q>note</q>).</li>
</ul>
<h2 id='rhythm' class='heading'>Rhythm</h2>

<p>A <code><a href="Structs/Rhythm.html">Rhythm</a></code> is the composition of a <code><a href="Rhythm.html#/s:8Duration0A4Treea">DurationTree</a></code> and an array of <code><a href="Structs/Rhythm/Leaf.html">Rhythm.Leaf</a></code> values (with a length equivalent to the leaves of the <code>durationTree</code>). The <code><a href="Structs/Rhythm/Leaf.html">Rhythm.Leaf</a></code> values can store any value generically.</p>

<p>We can decorate the <code>durationTree</code> above like so:</p>
<pre class="highlight plaintext"><code>let rhythm = Rhythm&lt;String&gt;(durationTree, [
    .instance(.absence),        // rest
    .instance(.event("BANG")),  // start event
    .continuation               // tied from previous event
])
</code></pre>
<h2 id='meter' class='heading'>Meter</h2>

<p>Like a <code><a href="Structs/Duration.html">Duration</a></code>, a <code><a href="Structs/Meter.html">Meter</a></code> is a <code>Rational</code> type, used for defining the metrical context of measure.</p>

<p>You can create a <q>common time</q> meter,</p>
<pre class="highlight plaintext"><code>let meter = Meter(4,4)
</code></pre>

<p>or maybe something a little more fun.</p>
<pre class="highlight plaintext"><code>let meter = Meter(31,128)
</code></pre>
<h2 id='tempo' class='heading'>Tempo</h2>

<p>A <code><a href="Structs/Tempo.html">Tempo</a></code> is the definition of a pulse occurring at a given frequency (<code>beatsPerMinute</code>) at a given <code><a href="Basic Types.html#/s:8Duration11Subdivisiona">Subdivision</a></code> level (e.g., quarter, sixteenth, etc.).</p>
<pre class="highlight plaintext"><code>let stayinAlive = Tempo(100, subdivision: 4) // remember this for CPR
</code></pre>
<h3 id='tempo-interpolation-easing' class='heading'>Tempo.Interpolation.Easing</h3>

<p>A <code><a href="Structs/Tempo/Interpolation/Easing.html">Tempo.Interpolation.Easing</a></code> specifies the curve of a <code><a href="Structs/Tempo/Interpolation.html">Tempo.Interpolation</a></code>. </p>

<ul>
<li><code>linear</code></li>
<li><code>powerIn</code></li>
<li><code>powerInOut</code></li>
<li><code>exponentialIn</code></li>
<li><code>sineInOut</code></li>
</ul>
<h3 id='tempo-interpolation' class='heading'>Tempo.Interpolation</h3>

<p>A <code><a href="Structs/Tempo/Interpolation.html">Tempo.Interpolation</a></code> defines a transition between two <code><a href="Structs/Tempo.html">Tempo</a></code> values, over a given <code>length</code>, with a specified <code>easing</code>.</p>
<pre class="highlight plaintext"><code>let startTempo = Tempo(24, subdivision: 4)
let endTempo = Tempo(192, subdivision: 8)
let interpolation = Tempo.Interpolation(
    start: startTempo,
    end: endTempo,
    length: Fraction(37,4),
    easing: .sineInOut
)  
</code></pre>

<blockquote>
<p>Note: Subdivision values needn&rsquo;t be the same.</p>
</blockquote>
<h3 id='tempo-interpolation-fragment' class='heading'>Tempo.Interpolation.Fragment</h3>

<p>A <code><a href="Structs/Tempo/Interpolation/Fragment.html">Tempo.Interpolation.Fragment</a></code> is a portion of a <code><a href="Structs/Tempo/Interpolation.html">Tempo.Interpolation</a></code> within a given <code>range</code>.</p>
<pre class="highlight plaintext"><code>let startTempo = Tempo(24)
let endTempo = Tempo(72) 
let interpolation = Tempo.Interpolation(
    start: startTempo,
    end: endTempo,
    length: Fraction(13,4)
)
let fragment = Tempo.Interpolation.Fragment(
    interpolation, 
    in: Fraction(5,4) ..&lt; Fraction(11,4)
)
</code></pre>

<blockquote>
<p>Note: The default <code>subdivision</code> value is <code>4</code> and the default <code>easing</code> value is <code>.linear</code>.</p>
</blockquote>
<h3 id='tempo-interpolation-collection' class='heading'>Tempo.Interpolation.Collection</h3>

<p>A <code><a href="Structs/Tempo/Interpolation.html#/s:8Duration5TempoV13InterpolationV10Collectiona">Tempo.Interpolation.Collection</a></code> defines a contiguous collection of <code><a href="Structs/Tempo/Interpolation/Fragment.html">Tempo.Interpolation.Fragment</a></code> values, which are indexed by the offset <code>Fraction</code> value.</p>
<h4 id='tempo-interpolation-collection-builder' class='heading'>Tempo.Interpolation.Collection.Builder</h4>

<p>A helper class <code>Tempo.Interpolation.Collection.Builder</code> is provided to encapsulate the stateful construction process of a <code><a href="Structs/Tempo/Interpolation.html#/s:8Duration5TempoV13InterpolationV10Collectiona">Tempo.Interpolation.Collection</a></code>.</p>

<p>You can start with an empty <code>Builder</code>,</p>
<pre class="highlight plaintext"><code>let builder = Tempo.Interpolation.Collection.Builder()
</code></pre>

<p>create a few interpolations (e.g., accelerando, ritardando, static),</p>
<pre class="highlight plaintext"><code>let a = Tempo.Interpolation(
    start: Tempo(60), 
    end: Tempo(120),
    length: Fraction(4,4)
)
let b = Tempo.Interpolation(
    start: Tempo(120), 
    end: Tempo(60),
    length: Fraction(4,4)
)
let c = Tempo.Interpolation(
    start: Tempo(60), 
    end: Tempo(60),
    length: Fraction(4,4)
)
</code></pre>

<p>then add them with the <code>Builder</code>.</p>
<pre class="highlight plaintext"><code>for interpolation in [a,b,c] {
    builder.add(interpoation)
}
</code></pre>

<p>Now we are ready for the <code>Builder</code> to give us a finished product.</p>
<pre class="highlight plaintext"><code>let collection = builder.build()
</code></pre>

<p>If it makes more sense, we can also create a <code><a href="Structs/Tempo/Interpolation.html#/s:8Duration5TempoV13InterpolationV10Collectiona">Tempo.Interpolation.Collection</a></code> directly.</p>
<pre class="highlight plaintext"><code>let collection = Tempo.Interpolation.Collection([a,b,c])
</code></pre>

<p>In the case that we need to retrieve a subsection of your <code>collection</code>, we can provide a subscript with a <code>Range&lt;Fraction&gt;</code> to get it out.</p>
<pre class="highlight plaintext"><code>let fragment = collection[Fraction(3,32)..&lt;Fraction(19,8)]
</code></pre>

<p>This will produce a <code><a href="Structs/Tempo/Interpolation.html#/s:8Duration5TempoV13InterpolationV10Collectiona">Tempo.Interpolation.Collection</a></code> with three <code>Tempo.Interpolation.Fragments</code> representing the three subsections of the interpolations we created above.</p>

          </div>
        </section>


      </article>
    </div>
    <section class="footer">
      <p>&copy; 2018 <a class="link" href="" target="_blank" rel="external"></a>. All rights reserved. (Last updated: 2018-11-05)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.9.4</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
